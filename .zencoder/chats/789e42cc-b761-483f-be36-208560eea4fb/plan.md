# Feature development workflow

---

## Workflow Steps

### [x] Step: Requirements

Your job is to generate a Product Requirements Document based on the feature description,

First, analyze the provided feature definition and determine unclear aspects. For unclear aspects: - Make informed guesses based on context and industry standards - Only mark with [NEEDS CLARIFICATION: specific question] if: - The choice significantly impacts feature scope or user experience - Multiple reasonable interpretations exist with different implications - No reasonable default exists - Prioritize clarifications by impact: scope > security/privacy > user experience > technical details

Ask up to 5 most priority clarifications to the user. Then, create the document following this template:

```
# Feature Specification: [FEATURE NAME]


## User Stories*


### User Story 1 - [Brief Title]

**Acceptance Scenarios**:

1. **Given** [initial state], **When** [action], **Then** [expected outcome]
2. **Given** [initial state], **When** [action], **Then** [expected outcome]

---

## Requirements*

## Success Criteria*

```

Save the PRD into `c:\Users\david\Desktop\synk\synk-web\.zencoder\chats\789e42cc-b761-483f-be36-208560eea4fb/requirements.md`.

### [x] Step: Technical Specification

Based on the PRD in `c:\Users\david\Desktop\synk\synk-web\.zencoder\chats\789e42cc-b761-483f-be36-208560eea4fb/requirements.md`, create a detailed technical specification to be used by a coding agent to implement the feature. Follow this template:

```
# Technical Specification: [FEATURE]

## Technical Context
Language/Version, primary dependencies, etc

## Technical Implementation Brief

Summarize key technical decisions for implementing the feature. Make sure they take into account the existing code as much as possible.

## Source Code Structure

## Contracts

Define addition or changes in data models, DB schemas, APIs, code interfaces etc

## Delivery Phases

Define several incremental deliverables for the feature. Each should be a minimal viable product testable end-to-end.

## Verification Strategy

Define how the coding agent can verify each deliverable it creates. Provide instructions for the agent to perform the verification using available tools (lint/test commands, bash commands) and create helper scripts and tools for more complex result verification.
The verification for each deliverable should be executable by a coding agent using built-in capabilities (lint and test commands from the project, bash commands), pre-generated helper scripts or MCP servers. Research and add to the spec:

- MCP servers that should be installed to help the agent with the verification

- helper scripts that need to be generated in the first phases of the plan to verify complex scenarios that can't be covered by the tests in the project's test framework(s)

- any sample input artifact(s) that are required for verification. Note if these artifacts can be a) generated by the agent; b) discovered by the agent on line; c) must be provided by the user.
```

Save the spec to `c:\Users\david\Desktop\synk\synk-web\.zencoder\chats\789e42cc-b761-483f-be36-208560eea4fb/spec.md`.

### [x] Step: Implementation Plan

Based on the technical spec in `c:\Users\david\Desktop\synk\synk-web\.zencoder\chats\789e42cc-b761-483f-be36-208560eea4fb/spec.md`, create a detailed task plan and update `c:\Users\david\Desktop\synk\synk-web\.zencoder\chats\789e42cc-b761-483f-be36-208560eea4fb/plan.md`. Each task should have task definition, references to contracts to be used/implemented, deliverable definition and verification instructions.

---

## Implementation Tasks

### [ ] Phase 1.1: Update Landing Page (index.html)

**Objective**: Transform homepage hero section to emphasize 7-day free trial offer.

**Contract Reference**: See `spec.md` Section "Modified Files ‚Üí index.html"

**Tasks**:
1. Update hero `<h1>` to "Automatically Sync Google Calendar with Notion. Try Pro Free for 7 Days."
2. Update subheadline to mention "No credit card required. Experience full Pro features immediately."
3. Change primary CTA button text to "Start 7-Day Free Trial"
4. Update trust signals to highlight trial benefits

**Files Modified**:
- `index.html` (lines ~65-100)

**Deliverables**:
- Hero section clearly communicates trial offer as primary value prop
- CTA button is action-oriented and trial-focused
- Trust signals reinforce no-risk trial

**Verification**:
```bash
# Open in browser
start index.html
# Manual checks:
# ‚úì Hero headline mentions "7 Days" or "Try Pro Free"
# ‚úì Primary button says "Start 7-Day Free Trial"
# ‚úì Subheadline mentions "No credit card required"
# ‚úì Mobile responsive (resize browser to 375px width)
```

---

### [ ] Phase 1.2: Redesign Pricing Page (pricing.html)

**Objective**: Add trial explainer section and update plan cards to reflect "after trial" positioning.

**Contract Reference**: See `spec.md` Section "Modified Files ‚Üí pricing.html"

**Tasks**:
1. Add trial explainer section above pricing grid:
   - Headline: "Start with a 7-day free trial of Pro"
   - Subheadline: "All new accounts get full Pro features for 7 days. No credit card required."
   - Primary CTA: "Start 7-Day Free Trial" ‚Üí links to `/signup.html`
2. Add "After your trial" header above pricing grid
3. Update Free plan card:
   - Features: Change from "50 syncs/month" to "Unlimited manual sync"
   - Add limitations: "No automation, No scheduling, No bulk operations"
   - CTA: "Start Free Trial" (same as Pro, since all get trial first)
4. Update Pro plan card:
   - Subtitle: "Keep automatic sync"
   - Features: Emphasize "Never manually sync again", "Automatic sync", "Scheduling"
   - CTA: "Start Free Trial"
5. Add FAQ section with 4 questions (see spec.md for copy)

**Files Modified**:
- `pricing.html` (lines ~100-400)

**Deliverables**:
- Trial explainer section is most prominent element on page
- Plan cards clearly positioned as "after trial" options
- FAQ addresses common trial questions
- Both Free and Pro CTAs say "Start Free Trial"

**Verification**:
```bash
# Open in browser
start pricing.html
# Manual checks:
# ‚úì Trial explainer section visible at top
# ‚úì "After your trial" label above plans
# ‚úì Free plan shows "Unlimited manual sync" (not 50-sync limit)
# ‚úì Both plan CTAs say "Start Free Trial"
# ‚úì FAQ section present with 4+ questions
# ‚úì Mobile responsive (check stacked layout on mobile)
```

---

### [ ] Phase 1.3: Update Navigation Across All Pages

**Objective**: Change "Sign Up" to "Start Free Trial" in header navigation.

**Contract Reference**: See `spec.md` Section "Modified Files ‚Üí Navigation"

**Tasks**:
1. Update header auth buttons in all pages:
   - Change `<a href="signup.html">Sign Up</a>` to `<a href="signup.html">Start Free Trial</a>`
2. Ensure consistency across all pages

**Files Modified**:
- `index.html` (line ~33)
- `pricing.html` (line ~33)
- `about.html` (line ~33)
- `contact.html` (line ~33)
- `download.html` (line ~33)
- `login.html` (line ~33)
- `signup.html` (line ~33)
- `account.html` (line ~33)

**Deliverables**:
- All pages have consistent "Start Free Trial" button in header

**Verification**:
```bash
# Grep check
grep -n "Sign Up" *.html
# Should return only login.html "Already have an account? Log in" context
# All header nav should say "Start Free Trial"
```

---

### [ ] Phase 1.4: Update Signup Page Messaging

**Objective**: Add trial context to signup form.

**Contract Reference**: See `spec.md` Section "Modified Files ‚Üí signup.html"

**Tasks**:
1. Update auth-header subheadline to "Start your 7-day Pro trial"
2. Add note below form: "By signing up, you'll start a 7-day Pro trial. No credit card required."
3. Change redirect after signup from `download.html` to `onboarding.html`

**Files Modified**:
- `signup.html` (lines ~59, ~172)

**Deliverables**:
- Signup page clearly communicates trial will start
- Post-signup redirect goes to onboarding (not download)

**Verification**:
```bash
# Open signup page
start signup.html
# Manual checks:
# ‚úì Subheadline mentions "7-day Pro trial"
# ‚úì Note below form mentions trial
# Code check:
grep "onboarding.html" signup.html
# Should find redirect in JavaScript
```

---

### [ ] Phase 2.1: Create Onboarding Page HTML

**Objective**: Build onboarding.html with 4-step structure.

**Contract Reference**: See `spec.md` Section "New Files ‚Üí onboarding.html"

**Tasks**:
1. Create `onboarding.html` with standard header/footer
2. Add onboarding container with progress bar (4 steps)
3. Create 4 step divs (Welcome, Calendar, Notion, Complete)
4. Add "Skip setup, go to dashboard" link on each step
5. Include scripts: `onboarding.js`, `supabase-auth-manager.js`, `scripts.js`
6. Link to `css/onboarding.css`

**Files Created**:
- `onboarding.html`

**Deliverables**:
- Onboarding page with semantic HTML structure
- 4-step progress indicator
- Skip link present on all steps

**Verification**:
```bash
# Open onboarding page (will need auth, but HTML should load)
start onboarding.html
# Manual checks:
# ‚úì Progress bar shows 4 steps
# ‚úì Step 1 visible by default
# ‚úì Skip link present
# ‚úì No console errors (except auth check)
```

---

### [ ] Phase 2.2: Create Onboarding Styles (onboarding.css)

**Objective**: Style onboarding progress bar and step cards.

**Contract Reference**: See `spec.md` Section "New Files ‚Üí css/onboarding.css"

**Tasks**:
1. Create `css/onboarding.css`
2. Style `.onboarding-progress` (horizontal step indicator)
3. Style `.onboarding-step` (card container for each step)
4. Style `.onboarding-step.active` (visible step)
5. Add responsive styles for mobile (stacked progress on < 768px)
6. Match existing dark theme colors from `styles.css`

**Files Created**:
- `css/onboarding.css`

**Deliverables**:
- Onboarding page matches design system (dark theme, orange accents)
- Progress indicator visually clear and animated
- Mobile responsive layout

**Verification**:
```bash
# Open onboarding page with CSS
start onboarding.html
# Manual checks:
# ‚úì Progress bar styled with step indicators
# ‚úì Active step highlighted
# ‚úì Cards have dark theme background (#1a1a1a)
# ‚úì Mobile view: progress bar stacks or scrolls horizontally
```

---

### [ ] Phase 2.3: Create Onboarding JavaScript (onboarding.js)

**Objective**: Implement step navigation, auth check, and trial date fetching.

**Contract Reference**: See `spec.md` Section "New Files ‚Üí js/onboarding.js"

**Tasks**:
1. Create `js/onboarding.js`
2. Check for auth token in localStorage; redirect to login if missing
3. Fetch trial end date from backend (use `/me` or `/api/user/trial-status`)
4. Implement step navigation functions:
   - `nextStep()` - Move to next step, update progress
   - `goToStep(stepNum)` - Jump to specific step
   - `skipOnboarding()` - Redirect to account.html
5. Display trial end date in Step 1
6. Add event listeners to buttons ("Next", "Connect Calendar", etc.)
7. Handle OAuth link clicks (external redirect, placeholder for now)

**Files Created**:
- `js/onboarding.js`

**Deliverables**:
- Onboarding requires authentication
- Step navigation works (Next button, progress updates)
- Trial end date displayed from backend
- Skip link redirects to dashboard

**Verification**:
```bash
# Test without auth token
# Open browser console
localStorage.removeItem('synk_auth_token')
# Open onboarding page
start onboarding.html
# ‚úì Should redirect to login.html

# Test with auth token
# Create test account via signup, should land on onboarding
# ‚úì Trial end date shows (e.g., "Jan 17, 2026")
# ‚úì Click "Next" ‚Üí Step 2 becomes active
# ‚úì Progress bar updates
# ‚úì Click "Skip" ‚Üí redirects to account.html
```

---

### [ ] Phase 3.1: Create Trial Banner JavaScript (trial-banner.js)

**Objective**: Build trial status banner component for account dashboard.

**Contract Reference**: See `spec.md` Section "New Files ‚Üí js/trial-banner.js"

**Tasks**:
1. Create `js/trial-banner.js`
2. Define `TrialBanner` class with methods:
   - `init()` - Fetch status from API and render
   - `render(status)` - Update banner HTML based on plan
   - `handleUpgrade()` - Trigger Stripe Checkout
   - `dismiss()` - Hide banner and store in sessionStorage
3. Fetch trial status from `/api/user/trial-status`
4. Render different messages for:
   - Active trial: "Pro Trial: X days remaining. Upgrade to keep automatic sync."
   - Free plan: "You're on the Free plan (manual sync). Upgrade for automatic sync."
   - Paid Pro: "Pro plan active. Thank you for upgrading!"
5. Add "Upgrade to Pro" button (hidden for Pro users)
6. Add dismiss (X) button
7. Check sessionStorage for dismissal state on load

**Files Created**:
- `js/trial-banner.js`

**Deliverables**:
- Trial banner component fetches and displays trial status
- Different messages for trial/free/pro states
- Dismissible per session
- Upgrade button handler ready (will complete in Phase 4)

**Verification**:
```bash
# Test with mock data (hardcode status in trial-banner.js)
# Active trial
const mockStatus = {plan: 'trial', can_access_pro_features: true, days_remaining: 5};
# ‚úì Banner shows "Pro Trial: 5 days remaining"
# ‚úì "Upgrade to Pro" button visible

# Free plan
const mockStatus = {plan: 'free', can_access_pro_features: false};
# ‚úì Banner shows "You're on the Free plan..."
# ‚úì "Upgrade to Pro" button visible

# Pro plan
const mockStatus = {plan: 'pro', can_access_pro_features: true, reason: 'paid'};
# ‚úì Banner shows "Pro plan active"
# ‚úì No upgrade button

# Dismiss test
# Click X button
# ‚úì Banner hidden
# ‚úì Refresh page ‚Üí banner stays hidden (sessionStorage check)
```

---

### [ ] Phase 3.2: Add Trial Banner to Account Page

**Objective**: Integrate trial banner into account.html.

**Contract Reference**: See `spec.md` Section "Modified Files ‚Üí account.html"

**Tasks**:
1. Add banner container HTML after `<main class="account-page">` opening tag:
   ```html
   <div id="trial-banner" class="trial-banner" style="display: none;">
     <div class="banner-content">
       <span class="banner-icon">‚è∞</span>
       <span id="trial-message">Loading...</span>
       <button id="upgrade-button" class="banner-btn">Upgrade to Pro</button>
       <button id="dismiss-banner" class="banner-close">√ó</button>
     </div>
   </div>
   ```
2. Include `trial-banner.js` script before closing `</body>`
3. Add initialization script:
   ```javascript
   <script>
   document.addEventListener('DOMContentLoaded', async () => {
     const banner = new TrialBanner('trial-banner');
     await banner.init();
   });
   </script>
   ```

**Files Modified**:
- `account.html` (after line ~20, add banner HTML; before `</body>`, add script)

**Deliverables**:
- Trial banner loads on account page
- Banner fetches status from backend API
- Banner displays appropriate message based on user plan

**Verification**:
```bash
# Login to account page
start account.html
# Open browser console
# ‚úì No console errors
# ‚úì Network tab shows request to /api/user/trial-status
# ‚úì Banner visible with correct message
# ‚úì Click X ‚Üí banner dismisses
```

---

### [ ] Phase 3.3: Style Trial Banner (CSS)

**Objective**: Add trial banner styles to account.css.

**Contract Reference**: See `spec.md` Section "Component Interfaces ‚Üí Trial Banner Component"

**Tasks**:
1. Add CSS to `css/account.css` or inline `<style>` in `account.html`:
   - `.trial-banner` - Container with background, border, padding
   - `.trial-banner.active-trial` - Orange accent for active trials
   - `.trial-banner.expired-trial` - Red accent for expired/free users
   - `.trial-banner.pro-user` - Green accent for Pro users
   - `.banner-content` - Flex layout for icon, message, buttons
   - `.banner-btn` - Primary button style
   - `.banner-close` - X button style
2. Ensure responsive design (mobile-friendly)

**Files Modified**:
- `css/account.css` or `account.html` (inline styles)

**Deliverables**:
- Trial banner styled consistently with account page design
- Different visual states for trial/free/pro
- Mobile responsive

**Verification**:
```bash
# Open account page
start account.html
# Manual checks:
# ‚úì Banner has background color (dark theme)
# ‚úì Border-left colored based on plan (orange/red/green)
# ‚úì Buttons styled consistently
# ‚úì Mobile view (< 768px): banner content stacks or wraps
```

---

### [ ] Phase 3.4: Extend Auth Manager with Trial Methods

**Objective**: Add `getTrialStatus()` method to SupabaseAuthManager.

**Contract Reference**: See `spec.md` Section "API Interfaces ‚Üí SupabaseAuthManager Extensions"

**Tasks**:
1. Open `js/supabase-auth-manager.js`
2. Add new method `async getTrialStatus()`:
   ```javascript
   async getTrialStatus() {
     const token = localStorage.getItem('synk_auth_token');
     if (!token) throw new Error('Not authenticated');
     
     const response = await fetch('https://synk-web.onrender.com/api/user/trial-status', {
       headers: {
         'Authorization': `Bearer ${token}`,
         'Content-Type': 'application/json'
       }
     });
     
     if (!response.ok) throw new Error('Failed to fetch trial status');
     return await response.json();
   }
   ```
3. Optionally expose method globally: `window.authManager.getTrialStatus`

**Files Modified**:
- `js/supabase-auth-manager.js` (add new method)

**Deliverables**:
- Auth manager can fetch trial status from backend
- Method available to trial-banner.js

**Verification**:
```bash
# Open browser console on any page
# Check if authManager exists
window.authManager
# Call method (requires login)
await window.authManager.getTrialStatus()
# ‚úì Should return trial status object
# ‚úì Should include: {plan, can_access_pro_features, days_remaining, ...}
```

---

### [ ] Phase 4.1: Create Upgrade Success Page

**Objective**: Build upgrade-success.html for post-payment redirect.

**Contract Reference**: See `spec.md` Section "New Files ‚Üí upgrade-success.html"

**Tasks**:
1. Create `upgrade-success.html` with auth-page layout
2. Add success card with:
   - Headline: "Welcome to Synk Pro! üéâ"
   - Message: "Your payment was successful. Pro features are now active."
   - Countdown: "Redirecting in <span id="countdown">5</span> seconds..."
   - Button: "Go to Dashboard Now" ‚Üí links to `account.html`
3. Include `upgrade-success.js` script

**Files Created**:
- `upgrade-success.html`

**Deliverables**:
- Success page with celebratory messaging
- Countdown timer placeholder
- Manual redirect button

**Verification**:
```bash
# Open success page directly
start upgrade-success.html
# Manual checks:
# ‚úì Success message visible
# ‚úì Countdown span present (will be updated by JS)
# ‚úì "Go to Dashboard" button links to account.html
```

---

### [ ] Phase 4.2: Create Upgrade Success JavaScript

**Objective**: Implement countdown timer and auto-redirect.

**Contract Reference**: See `spec.md` Section "New Files ‚Üí js/upgrade-success.js"

**Tasks**:
1. Create `js/upgrade-success.js`
2. Implement countdown from 5 to 0:
   ```javascript
   let countdown = 5;
   const countdownEl = document.getElementById('countdown');
   const interval = setInterval(() => {
     countdown--;
     countdownEl.textContent = countdown;
     if (countdown <= 0) {
       clearInterval(interval);
       window.location.href = 'account.html';
     }
   }, 1000);
   ```
3. Add manual redirect on button click

**Files Created**:
- `js/upgrade-success.js`

**Deliverables**:
- Countdown updates every second
- Auto-redirect to account.html after 5 seconds
- Manual button works immediately

**Verification**:
```bash
# Open success page
start upgrade-success.html
# Manual checks:
# ‚úì Countdown starts at 5
# ‚úì Decreases every second (4, 3, 2, 1, 0)
# ‚úì After 0, redirects to account.html
# ‚úì Click "Go to Dashboard" before countdown ‚Üí immediate redirect
```

---

### [ ] Phase 4.3: Implement Stripe Upgrade Flow

**Objective**: Add `initiateUpgrade()` method and wire up trial banner button.

**Contract Reference**: See `spec.md` Section "API Interfaces ‚Üí SupabaseAuthManager Extensions"

**Tasks**:
1. Open `js/supabase-auth-manager.js`
2. Add method `async initiateUpgrade(priceId, successUrl, cancelUrl)`:
   ```javascript
   async initiateUpgrade(priceId, successUrl, cancelUrl) {
     const token = localStorage.getItem('synk_auth_token');
     if (!token) throw new Error('Not authenticated');
     
     const response = await fetch('https://synk-web.onrender.com/api/upgrade', {
       method: 'POST',
       headers: {
         'Authorization': `Bearer ${token}`,
         'Content-Type': 'application/json'
       },
       body: JSON.stringify({ priceId, successUrl, cancelUrl })
     });
     
     if (!response.ok) throw new Error('Failed to create checkout session');
     const data = await response.json();
     return data.checkout_url;
   }
   ```
3. Open `js/trial-banner.js`
4. Update `handleUpgrade()` method:
   ```javascript
   async handleUpgrade() {
     try {
       const checkoutUrl = await window.authManager.initiateUpgrade(
         'price_XXXXX', // TODO: Get actual Stripe price ID
         'https://synk-official.com/upgrade-success.html',
         'https://synk-official.com/account.html'
       );
       window.location.href = checkoutUrl;
     } catch (error) {
       console.error('Upgrade failed:', error);
       alert('Unable to start upgrade. Please try again.');
     }
   }
   ```
5. Get Stripe price ID from backend team or config

**Files Modified**:
- `js/supabase-auth-manager.js` (add initiateUpgrade method)
- `js/trial-banner.js` (implement handleUpgrade)

**Deliverables**:
- "Upgrade to Pro" button calls backend upgrade endpoint
- User redirected to Stripe Checkout
- After payment, Stripe redirects to upgrade-success.html
- After cancel, Stripe redirects to account.html

**Verification**:
```bash
# Login to account page with trial or free account
start account.html
# Click "Upgrade to Pro" button
# ‚úì Network request to /api/upgrade
# ‚úì Redirect to Stripe Checkout URL
# In Stripe test mode:
# - Enter card: 4242 4242 4242 4242
# - Enter any future date, any CVC
# - Click "Pay"
# ‚úì Redirect to upgrade-success.html
# ‚úì Countdown starts
# ‚úì Redirect to account.html
# ‚úì Trial banner now shows "Pro plan active"
```

---

### [ ] Phase 5.1: Cross-Browser Testing

**Objective**: Ensure all pages work in Chrome, Firefox, Safari, Edge.

**Tasks**:
1. Test signup ‚Üí onboarding ‚Üí dashboard flow in each browser
2. Test trial banner display in each browser
3. Test upgrade flow (Stripe Checkout) in each browser
4. Document any browser-specific issues

**Browsers**:
- Chrome 90+ (Windows/Mac)
- Firefox 88+ (Windows/Mac)
- Safari 14+ (Mac/iOS)
- Edge 90+ (Windows)

**Deliverables**:
- All features functional in all browsers
- No console errors
- No layout breakage

**Verification**:
```markdown
# Browser Test Checklist

## Chrome
- [ ] Signup flow works
- [ ] Onboarding flow works
- [ ] Trial banner displays
- [ ] Upgrade flow works

## Firefox
- [ ] Signup flow works
- [ ] Onboarding flow works
- [ ] Trial banner displays
- [ ] Upgrade flow works

## Safari
- [ ] Signup flow works
- [ ] Onboarding flow works
- [ ] Trial banner displays
- [ ] Upgrade flow works

## Edge
- [ ] Signup flow works
- [ ] Onboarding flow works
- [ ] Trial banner displays
- [ ] Upgrade flow works
```

---

### [ ] Phase 5.2: Mobile Responsiveness Audit

**Objective**: Ensure all new pages/components are mobile-friendly.

**Tasks**:
1. Test onboarding page on mobile viewport (< 768px)
2. Test trial banner on mobile (account page)
3. Test pricing page trial explainer on mobile
4. Test upgrade success page on mobile
5. Fix any layout issues, overflow, or touch target size issues

**Viewports to Test**:
- iPhone (375x667)
- Android (360x640)
- iPad (768x1024)

**Deliverables**:
- No horizontal scroll
- All buttons/links tappable (min 44x44px touch targets)
- Text readable (min 16px font size)
- Progress bars/banners stack or wrap appropriately

**Verification**:
```bash
# Use Chrome DevTools responsive mode
# Test each page at 375px width
# ‚úì index.html - Hero CTA visible, no overflow
# ‚úì pricing.html - Trial explainer readable, plans stack
# ‚úì onboarding.html - Progress bar scrolls/stacks, steps readable
# ‚úì account.html - Trial banner wraps, buttons tappable
# ‚úì upgrade-success.html - Card centered, text readable
```

---

### [ ] Phase 5.3: Accessibility Audit

**Objective**: Ensure WCAG 2.1 AA compliance.

**Tasks**:
1. Run WAVE accessibility checker on all pages
2. Add ARIA labels to trial banner, onboarding progress, buttons
3. Ensure keyboard navigation works (Tab, Enter, Escape)
4. Test with screen reader (NVDA or VoiceOver)
5. Fix any color contrast issues (min 4.5:1 for text)

**Deliverables**:
- 0 WAVE errors
- All interactive elements keyboard accessible
- Screen reader announces trial status, progress, buttons
- Color contrast meets WCAG AA

**Verification**:
```bash
# Install WAVE browser extension
# Run on each page:
# ‚úì index.html - 0 errors
# ‚úì pricing.html - 0 errors
# ‚úì onboarding.html - 0 errors
# ‚úì account.html - 0 errors
# ‚úì upgrade-success.html - 0 errors

# Keyboard navigation test:
# Tab through onboarding page
# ‚úì All buttons reachable
# ‚úì Enter key activates buttons
# ‚úì Escape key closes modals (if any)

# Screen reader test (VoiceOver on Mac: Cmd+F5):
# ‚úì Trial banner message announced
# ‚úì Onboarding step titles announced
# ‚úì Button labels clear
```

---

### [ ] Phase 5.4: Performance Optimization

**Objective**: Ensure fast page loads and smooth interactions.

**Tasks**:
1. Run Lighthouse audit on all pages
2. Optimize images (if any new images added)
3. Minify CSS/JS (optional, Netlify can do this)
4. Lazy load trial banner (only fetch status when needed)
5. Add loading states for async operations
6. Test on throttled 3G connection

**Performance Targets**:
- Page load < 2s on 3G
- Trial status fetch < 500ms
- Lighthouse Performance > 90

**Deliverables**:
- Lighthouse scores meet targets
- No janky animations
- Loading spinners for async operations
- Graceful degradation on slow connections

**Verification**:
```bash
# Run Lighthouse in Chrome DevTools
# For each page:
# ‚úì Performance > 90
# ‚úì Accessibility > 95
# ‚úì Best Practices > 90
# ‚úì SEO > 90

# Throttle to Slow 3G (Chrome DevTools ‚Üí Network ‚Üí Throttling)
# ‚úì index.html loads < 2s
# ‚úì account.html trial banner shows loading state
# ‚úì Stripe redirect doesn't feel broken on slow connection
```

---

### [ ] Phase 5.5: End-to-End Flow Test

**Objective**: Verify complete user journey from landing to upgrade.

**Tasks**:
1. Clear browser data (cookies, localStorage)
2. Walk through entire flow:
   - Land on index.html
   - Click "Start 7-Day Free Trial"
   - Sign up with new email
   - Complete onboarding (or skip)
   - See trial banner in dashboard
   - Click "Upgrade to Pro"
   - Complete Stripe payment (test card)
   - Land on success page
   - Redirect to dashboard
   - Verify Pro plan active
3. Document any issues or friction points

**Deliverables**:
- Complete flow works end-to-end with no errors
- User experience is smooth and clear
- All redirects work correctly
- Trial ‚Üí Pro upgrade confirmed in backend

**Verification**:
```markdown
# E2E Test Checklist

## Step 1: Landing
- [ ] Visit index.html
- [ ] Click "Start 7-Day Free Trial"
- [ ] Redirects to signup.html

## Step 2: Signup
- [ ] Enter email: test+[timestamp]@example.com
- [ ] Enter password
- [ ] Agree to terms
- [ ] Click "Create Account"
- [ ] Redirects to onboarding.html

## Step 3: Onboarding
- [ ] Trial end date displayed
- [ ] Click "Next" through steps or "Skip"
- [ ] Redirects to account.html

## Step 4: Dashboard
- [ ] Trial banner visible
- [ ] Message: "Pro Trial: X days remaining"
- [ ] Click "Upgrade to Pro"

## Step 5: Stripe Checkout
- [ ] Stripe Checkout page loads
- [ ] Enter test card: 4242 4242 4242 4242
- [ ] Click "Pay"
- [ ] Redirects to upgrade-success.html

## Step 6: Success
- [ ] Success message displayed
- [ ] Countdown starts from 5
- [ ] Auto-redirect to account.html (or click button)

## Step 7: Confirm Pro
- [ ] Trial banner shows "Pro plan active"
- [ ] No "Upgrade" button
- [ ] Pro features accessible

‚úÖ All steps passed
```

---

## Final Checklist

Before marking implementation complete, verify:

- [ ] All Phase 1 tasks completed (content updates)
- [ ] All Phase 2 tasks completed (onboarding flow)
- [ ] All Phase 3 tasks completed (trial banner)
- [ ] All Phase 4 tasks completed (upgrade flow)
- [ ] All Phase 5 tasks completed (polish & validation)
- [ ] No console errors on any page
- [ ] Mobile responsive on all pages
- [ ] Accessibility audit passed (WAVE 0 errors)
- [ ] Performance targets met (Lighthouse > 90)
- [ ] E2E flow tested successfully
- [ ] Code committed to repository
- [ ] Deployed to Netlify staging environment
- [ ] QA sign-off received
- [ ] Ready for production deployment
